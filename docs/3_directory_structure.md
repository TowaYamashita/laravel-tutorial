## チュートリアルのURL

https://laravel.com/docs/9.x/structure

## メモ

## app

### Broadcasting

- アプリケーションのすべてのブロードキャスト・チャンネル・クラスを含む
- デフォルトでは存在せず、以下のコマンドを実行したときに生成される
  - php artisan make:channel

### Console

- コンソールカーネルが格納され、カスタム Artisan コマンドが登録され、スケジュールされたタスクを含む
- カスタム Artisan コマンドは、以下のコマンドを実行して生成できる
  - php artisan make:command

### Events

- 特定のアクションが発生したことをアプリケーションの他の部分に警告するために使用することができるイベントクラスを含む
- デフォルトでは存在せず、以下のコマンドを実行したときに生成される
  - php artisan event:generate
  - php artisan make:event

### Exceptions

- アプリケーションの例外ハンドラを含む
- 例外の記録方法や表示方法をカスタマイズしたい場合は、 このディレクトリにある Handler クラスを変更する必要がある

### Http

- コントローラ、ミドルウェア、およびフォームリクエストなどのアプリケーションに入るリクエストを処理するロジックを含む

### Jobs

- アプリケーションのキューに入れられるジョブを含む
- ジョブにはキューに突っ込んで非同期に実行するものとリクエストのライフサイクルタイム内に同期的に実行するものがあり、同期的に実行されるJobのことをコマンドと呼ぶことがある
- デフォルトでは存在せず、以下のコマンドを実行したときに生成される
  - php artisan make:job

## Listeners

- イベントインスタンスを受け取り、イベントが発生したことに応答してロジックを実行するクラスを含む
- デフォルトでは存在せず、以下のコマンドを実行したときに生成される
  - php artisan event:generate
  - php artisan make:listener

### Mail

- 電子メールを作成するためのすべてのロジックを単一のシンプルなクラスにカプセル化し電子メールを表すすべてのクラスが含まれる
- Mailオブジェクトを使用すると、Mail::sendメソッドを使用して送信することができる
- デフォルトでは存在せず、以下のコマンドを実行したときに生成される
  - php artisan make:mail

### Models

- データベースを操作するためのActiveRecordの実装を提供する各データベーステーブルに対応したモデルクラスを含む
- モデルによって、テーブルのデータを照会したり、テーブルに新しいレコードを挿入したりすることができる

### Notifications

- アプリケーション内で発生したイベントに関する単純な通知など、アプリケーションが送信する「トランザクション」通知を含む
- Laravelの通知機能は、電子メール、Slack、SMS、またはデータベースに格納されたものなど、様々なドライバーを介して通知を送信することを抽象化する
- デフォルトでは存在せず、以下のコマンドを実行したときに生成される
  - php artisan make:notification

### Policies

- ユーザーがリソースに対して所定のアクションを実行できるかどうかを判断するために使用される認可ポリシークラスを含む
- デフォルトでは存在せず、以下のコマンドを実行したときに生成される
  - php artisan make:policy

### Providers

- サービスコンテナ内でサービスをバインドしたり、イベントを登録したり、その他のタスクを実行することで、アプリケーションをブートストラップし、入ってくるリクエストに対してアプリケーションを準備するサービスプロバイダを含む
- デフォルトでこのディレクトリにすでにいくつかのプロバイダーが含まれており、必要に応じてこのディレクトリに独自のプロバイダーを自由に追加することができる

### Rules

- 複雑な検証ロジックを単純なオブジェクトにカプセル化するために使用される検証ルールオブジェクトを含む
- デフォルトでは存在せず、以下のコマンドを実行したときに生成される
  - php artisan make:rule

## bootstrap

- Laravelを起動させるファイルが置かれている
- ルートやサービスのキャッシュファイルなど、パフォーマンス最適化のためにフレームワークで生成されたファイルが格納されている
- 基本、このディレクトリ内は人の手によって変更は行わない

## config

- 設定ファイルを置く
  - 詳細については、[このファイル](./2_configuration.md)  に書いているため省略

## database

- モデルファクトリやシーダーなど、データベースを構成するファイルを置く

## lang

- 翻訳文字列を管理するファイルを置く

## public

- エントリーポイント(index.php)やオートロードを構成するファイルを置く
- 公開されてもよい画像データやCSSなどのアセットを置く

## resource

- 公開されたくなかったりコンパイルが必要なアセットを置く
- Laravelでフロントエンド側も対応する場合は、ビューに相当するファイルを置く

## routes

- アプリケーションのルート定義に関するファイルを置く
- デフォルトで、api.php, web.php, console.php, channels.php が定義されている

- api.php
  - LaravelをAPIサーバとして使う場合に使用される
- web.php
  - Laravelでフロントエンド側も対応する場合に使用される
  - セッションの状態、CSRFからの保護、クッキーの暗号化を提供する
- console.php
  - コンソールベースのエントリーポイント
  - 自作のaritisanコマンドを使う場合に使用される
- channels.php
  - WebSocketを利用したイベントストリーミングで、サーバ上のデータ更新をクライアントにも反映させたい場合に使用される

## storage

- ログ、コンパイルされた Blade テンプレート、ファイルベースのセッション、ファイルキャッシュ、およびフレームワークによって生成されたその他のファイルを置く
- storage/app
  - アプリケーションによって生成されたあらゆるファイルを格納する
- storage/app/public
  - プロフィールアバターのようなユーザが作成した一般にアクセス可能なファイルを格納する
  - 以下のコマンドを打って、このディレクトリを指すシンボリックリンクをpublic/storageに作成する必要がある
    - php artisan storage:link
- storage/framework
  - フレームワークによって生成されたファイルとキャッシュを保存する
- storage/logs
  - アプリケーションのログファイルを格納する

## tests

- ユニットテストや機能テストを置く
- 以下のコマンドを打って、テストを実行することができる
  - php vendor/bin/phpunit
  - php artisan test

## vendor

- Composerの依存ファイルを置く
